import React from 'react';
import {
    Autocomplete,
    Button,
    ImageList,
    ImageListItem,
    ImageListItemBar, Rating,
    TextField
} from '@mui/material';
import Box from "@mui/material/Box";
import {mainBase} from "../../SubElements/Theme";
import Typography from "@mui/material/Typography";
import StarIcon from '@mui/icons-material/Star';

function hotel() {
    const hotels = ['ะัะบัะพัะธั', 'ะะฒะตะทะดะฝัะน ะะฐััั', 'ะะฐะปัะผะพะฒัะน ะพะฐะทะธั', 'ะะพัะฐะปะปะพะฒัะน ะฑัะธะท', 'ะะปะฐัะพะปะธะฟะธะต', 'ะะฒะตะทะดะฝะพะต ะฝะตะฑะพ', 'ะัะฝะฝะพะต ัะธัะฝะธะต', 'ะะพััะบะพะต ััะตัะตะฝะธะต', 'ะะพัะฝัะน ะฒะตัะตั', 'ะกะพะปะฝะตัะฝัะน ัะฐะน', 'ะะผะฑัะพะทะธั', 'ะะฐะณะธัะตัะบะธะน ะบะฐะผะตะฝั', 'ะัะบัะธัััะน ะฒะพะดะพะฟะฐะด', 'ะััะฝะฐั ะธะทะพะฑะธะปะธะต', 'ะััะตะพะปะฐ', 'ะะตัะปะฐะผัััะพะฒัะน ะฑะตัะตะณ', 'ะกะธัะตะฝะตะฒัะน ะทะฐะบะฐั', 'ะะพัะพะด ะฝะตะฑะตั', 'ะคะพะฝัะฐะฝ ัะดะฐัะธ', 'ะะธะบัะพัะธั ะะฐะปะฐั', 'ะะฒะตะทะดะฝัะน ะฟะตัะพะบ', 'ะััะฟััะฝัะน ัะฒะตัะพะบ', 'ะขะฐะธะฝััะฒะตะฝะฝัะน ะพะณะพะฝั', 'ะะปะฐัะพะบัะพะฒัะต', 'ะัะฑะธัะฐ ะผะธัะฐ', 'ะะฐะทััะฝัะน ะฑะตัะตะณ', 'ะะฐะณะฝะตัะธัะตัะบะธะน ะฟะพะปัั', 'ะะฒะตะทะดะฝัะน ะฟััั', 'ะกะตัะตะฑััะฝัะน ะปะธัั', 'ะญะปััะธะนัะบะธะต ะทะฐัะธัะพะฒะบะธ', 'ะะพะปะพัะพะน ััะพะฝ', 'ะะตะผััะถะธะฝะฐ ะผะพัั', 'ะัััะฐะปัะฝัะน ัะฒะตั', 'ะะตัะฝะธะน ะฒะทะดะพั', 'ะคะตะตัะธั ะบัะฐัะพะบ', 'ะัะฝะฝัะน ะพัะตั', 'ะะพะปะพะดะธะปัะฝัะน ะบะปัั', 'ะะปะผะฐะทะฝัะน ะณะพัะพะด', 'ะกะปะฐะฒัะฝัะบะธะน ะฑัะธะท', 'ะะฐะทะธัะฝะฐั ัะพัะฐ', 'ะกะพะปะฝะตัะฝัะน ะผะฐะน', 'ะัะธััะฐะปะปะพะฒัะน ะผะธั', 'ะฃััะตะฝะฝะธะน ะทะฒะตะทะดะพะฟะฐะด', 'ะะตััะฐะฝัะน ะฒะธััั', 'ะะพะปะพัะฐั ัะพัะฐ', 'ะกะตัะตะฑััะฝะฐั ะฝะธัั', 'ะขะฐะธะฝััะฒะตะฝะฝัะน ะปะตั', 'ะะผะตัะธััะพะฒัะน ัะฒะตั', 'ะะฐะณะธัะตัะบะฐั ะณะฐะฒะฐะฝั', 'ะะฒะตะทะดะฝะพะต ะฟะพะปะต', 'ะะฐะทััะฝะฐั ะฝะพัั', 'ะะปัะฑะธะฝะบะฐ ะฒะตัะตั', 'ะขะฐะฝััััะฐั ะฟะฐะปัะผะฐ', 'ะะณะฝะตะฝะฝัะน ัะฒะตัะพะบ', 'ะกัะตะดะธะทะตะผะฝัะน ะฒะพะทะดัั', 'ะะฒะตะทะดะฝะฐั ะทะฐัั', 'ะกัะผะตัะตัะฝัะน ะฑัะธะท', 'ะะฒะพะฒัะน ะฑะตัะตะณ', 'ะะฒะตะทะดะฝะพะต ะผะฐัะตะฒะพ', 'ะััะฟััะฝัะน ะทะฐะบะฐั', 'ะะตะฝะตัะธะฐะฝัะบะธะน ะฐัะพะผะฐั', 'ะะปะฐัะพะฒะพะปะพััะต', 'ะัะปะฐะฝัะธัะตัะบะธะน ะฑัะธะท', 'ะะพััะบะฐั ะณะปะฐะดั', 'ะัะฝะฝะพะต ะพััะฐะถะตะฝะธะต', 'ะะตัะตะฝะฝะธะน ะฒะตัะตั', 'ะคะฐะฝัะฐะทะธะนะฝะฐั ะทะฐัะฝะธัะฐ', 'ะะณะฝะตะฝะฝะฐั ะฒัะฐะปั', 'ะะพะปะพััะต ะฒะพะปะฝั', 'ะญะผะพัะธะพะฝะฐะปัะฝัะน ะฒะทะดะพั', 'ะะฐะฒะฐะฝะดะพะฒะฐั ะฟะพะปัะฝะฐ', 'ะขะฐะธะฝััะฒะตะฝะฝัะต ัะบะฐะทะบะธ', 'ะะฒะตะทะดะฝะพะต ะผะพัะต', 'ะกะพะปะฝะตัะฝะฐั ะดัะณะฐ', 'ะฅััััะฐะปัะฝัะน ะดะฒะพัะตั', 'ะะฐะดัะถะฝัะน ัะฒะตั', 'ะะผััะฝัะน ะฒะทะณะปัะด', 'ะะพััะบะพะน ะฑัะธะท', 'ะะพัััะธะน ะฒะพะดะพะฟะฐะด', 'ะกะธัะตะฝะตะฒะฐั ะปะฐะณัะฝะฐ', 'ะะปะธะฝัะฒะตะนะฝ ะผะพัะต', 'ะกัะตะบะปัะฝะฝะพะต ะฝะตะฑะพ', 'ะัะฐัะฝะฐั ัะพะทะฐ', 'ะะฐะณะธัััะฐะปัะฝัะน ัะฒะตั', 'ะะฒะตะทะดะฝะพะต ะพะฑะปะฐะบะพ', 'ะกะตัะตะฑััะฝัะน ะปัั', 'ะกะบัะธะฟััะธะน ะฟะตัะพะบ', 'ะะทะตัะพ ัะดะฐัะธ', 'ะกะพะปะฝะตัะฝะฐั ะดัะณะฐ', 'ะะฐะดัะถะฝะฐั ะฒััะพัะฐ', 'ะะปะฐัะพะฟัะตะฝะฐ', 'ะัะฝะฝะฐั ัะฐัะบะฐ', 'ะะฐะณะธัะตัะบะพะต ะทะตะปัะต', 'ะะฒะตะทะดะฝัะต ะฟะพะปัะฝั', 'ะกัะตะบะปัะฝะฝัะน ะทะฐะบะฐั', 'ะะพะบะพัะพะฒัะน ะฑัะธะท', 'ะะบะฒะฐัะธัะผะฝัะน ะผะธั', 'ะะพััะบะฐั ัะธะผัะพะฝะธั', 'ะัะธะปะปะธะฐะฝัะพะฒัะน ะฟะตัะพะบ', 'ะกะพะปะฝะตัะฝัะน ัะฐะด', 'ะะตะณะตะฝะดะฐัะฝัะน ะฑะตัะตะณ', 'ะัะบัััะธะนัั ัะตะนะตัะฒะตัะบ', 'ะัะปะพะฒัะบะธะน ะปะตะณะบะพัะฐะน', 'ะะพะปะตั ะฒะดะฐะปะธ', 'ะะตะปะตะฝะพะต ััะฐัััะต'];
    return hotels[Math.floor(Math.random() * hotels.length)] ;
}

const generateRow = () => {
    let data = [];
    [...Array(100)].forEach((e, i) => {
        let ind = Math.floor(Math.random() * (338 - 1 + 1) + 1)
        data.push({
            img: `ImgSet/(${ind}).jpeg`,
            title: hotel(),
        });
    });
    return data;
}

const rows = () => ([
    ...generateRow ()
]);

const itemData = generateRow();

function HotelSearch({onResize, boxHeight,}) {
    const [selectedCountry, setSelectedCountry] = React.useState('');
    const [showBox, setShowBox] = React.useState(false);

    const handleSearch = () => {
        if (selectedCountry) {
            setShowBox(true);
            onResize(boxHeight + 100);
        }
    };

    const countries = [{title: '๐บ๐ธ ะกะจะ'}, {title: '๐จ๐ณ ะะธัะฐะน'}, {title: '๐ฎ๐ณ ะะฝะดะธั'}, {title: '๐ฎ๐ฉ ะะฝะดะพะฝะตะทะธั'}, {title: '๐ง๐ท ะัะฐะทะธะปะธั'}, {title: '๐ต๐ฐ ะะฐะบะธััะฐะฝ'}, {title: '๐ณ๐ฌ ะะธะณะตัะธั'}, {title: '๐ง๐ฉ ะะฐะฝะณะปะฐะดะตั'}, {title: '๐ท๐บ ะะพััะธั'}, {title: '๐ฏ๐ต ะฏะฟะพะฝะธั'}, {title: '๐ฒ๐ฝ ะะตะบัะธะบะฐ'}, {title: '๐ต๐ญ ะคะธะปะธะฟะฟะธะฝั'}, {title: '๐ช๐ฌ ะะณะธะฟะตั'}, {title: '๐ช๐น ะญัะธะพะฟะธั'}, {title: '๐ป๐ณ ะัะตัะฝะฐะผ'}, {title: '๐จ๐ฉ ะะตะผะพะบัะฐัะธัะตัะบะฐั ะะตัะฟัะฑะปะธะบะฐ ะะพะฝะณะพ'}, {title: '๐น๐ท ะขัััะธั'}, {title: '๐ฉ๐ช ะะตัะผะฐะฝะธั'}, {title: '๐ฎ๐ท ะัะฐะฝ'}, {title: '๐น๐ญ ะขะฐะธะปะฐะฝะด'}, {title: '๐ฌ๐ง ะะตะปะธะบะพะฑัะธัะฐะฝะธั'}, {title: '๐ซ๐ท ะคัะฐะฝัะธั'}, {title: '๐ฎ๐น ะัะฐะปะธั'}, {title: '๐น๐ฟ ะขะฐะฝะทะฐะฝะธั'}, {title: '๐ฟ๐ฆ ะฎะถะฝะฐั ะััะธะบะฐ'}, {title: '๐ฒ๐ฒ ะััะฝะผะฐ'}, {title: '๐ฐ๐ช ะะตะฝะธั'}, {title: '๐ฐ๐ท ะฎะถะฝะฐั ะะพัะตั'}, {title: '๐จ๐ด ะะพะปัะผะฑะธั'}, {title: '๐ช๐ธ ะัะฟะฐะฝะธั'}, {title: '๐บ๐ฌ ะฃะณะฐะฝะดะฐ'}, {title: '๐ฆ๐ท ะัะณะตะฝัะธะฝะฐ'}, {title: '๐ฉ๐ฟ ะะปะถะธั'}, {title: '๐ธ๐ฉ ะกัะดะฐะฝ'}, {title: '๐บ๐ฆ ะฃะบัะฐะธะฝะฐ'}, {title: '๐ฎ๐ถ ะัะฐะบ'}, {title: '๐ต๐ฑ ะะพะปััะฐ'}, {title: '๐จ๐ฆ ะะฐะฝะฐะดะฐ'}, {title: '๐ธ๐ฆ ะกะฐัะดะพะฒัะบะฐั ะัะฐะฒะธั'}, {title: '๐ฒ๐พ ะะฐะปะฐะนะทะธั'}, {title: '๐ต๐ช ะะตัั'}, {title: '๐ฆ๐ด ะะฝะณะพะปะฐ'}, {title: '๐บ๐ฟ ะฃะทะฑะตะบะธััะฐะฝ'}, {title: '๐ฒ๐ฆ ะะฐัะพะบะบะพ'}, {title: '๐พ๐ช ะะตะผะตะฝ'}, {title: '๐ป๐ช ะะตะฝะตัััะปะฐ'}, {title: '๐ณ๐ต ะะตะฟะฐะป'}, {title: '๐ฒ๐ฌ ะะฐะดะฐะณะฐัะบะฐั'}, {title: '๐จ๐ฒ ะะฐะผะตััะฝ'}, {title: '๐จ๐ฎ ะะพั-ะด ะะฒัะฐั'}];
    return (
        <div>
            <Box display="flex"
                 className="box-styled"
                 sx={{
                     background: "white",
                 }}
            >
                <Autocomplete
                    id="free-solo-demo"
                    freeSolo
                    sx={{
                        width: '85%',
                        padding: 1,
                        ml: 4
                    }}
                    options={countries.map((option) => option.title)}
                    onChange={(event, newValue) => {
                        setSelectedCountry(newValue);
                    }}
                    renderInput={(params) => (
                        <TextField
                            {...params}
                            label="ะะฐะฟัะธะผะตั: ะัะฐะทะธะปะธั"
                            variant="standard"
                            type="search"
                            size="small"
                            autoComplete="on"
                            autoFocus
                        />
                    )}
                />
                <Button
                    variant="contained"
                    onClick={handleSearch}
                    size="large"
                    color="main"
                    sx={{
                        width: '10%',
                        margin: 1,
                        borderRadius: 6,
                        backgroundColor: mainBase,
                        ':hover': {
                            backgroundColor: 'white',
                        }
                    }}>ะะพะธัะบ</Button>
            </Box>
            {showBox && setSelectedCountry && (
                <Box mt={2}>
                    <ImageList sx={{ width: window.Width, height: 1000 }}>
                        <ImageListItem key="Subheader" cols={6} >
                            <Typography variant="h4" align="center" padding={1}>ะั ะฒัะฑัะฐะปะธ ัััะฐะฝั {selectedCountry}, ะฒะพั ะฟะพะดัะพะดััะธะต ะพัะตะปะธ:</Typography>
                        </ImageListItem >
                        {itemData.map((item) => (
                            <ImageListItem key={item.img}>
                                <img
                                    srcSet={`${item.img}?w=248&fit=crop&auto=format&dpr=2 2x`}
                                    src={`${item.img}?w=248&fit=crop&auto=format`}
                                    alt={item.title}
                                    loading="lazy"
                                />
                                <ImageListItemBar
                                    title={item.title}
                                    actionIcon={
                                        <Rating
                                            name="rating"
                                            value={Math.floor(Math.random() * 5 +1)}
                                            readOnly
                                            emptyIcon={<StarIcon sx={{ color: 'gray' }} fontSize="inherit" />}
                                        />
                                    }
                                />
                            </ImageListItem>
                        ))}
                    </ImageList>
                </Box>
                )}
        </div>
    );
}

export default HotelSearch;
